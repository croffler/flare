<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../../css/prism.css"/>
<link rel="stylesheet" href="../../css/bootstrap.css"/>
<link rel="stylesheet" href="../../css/docs.css"/>
<link rel="stylesheet" href="../../css/hugo-bootswatch.css"/>
<link rel="stylesheet" href="../../css/table.css"/>
<title></title>
</head>
<body>
<h1 >REST API</h1>
<hr>


<p>The REST API exposing HTTP based interface Space. It is leveraging the <a href="./the-gigaspace-interface-overview.html">XAP API</a>. It support the following methods:</p>

<ol>
<li>GET - can be used to perform an introduceType, readByID or a readMultiple action by a space query.</li>
<li>POST - can be used to perform a write / writeMultiple or update / updateMultiple actions.</li>
<li>DELETE - can be used to perform take / takeMultiple actions either by ID or by a space query.</li>
</ol>

<p><br/></p>

<h1 id="introduce-type">Introduce Type</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Introduce the specific type to space.</td>
</tr>

<tr>
<td>Request URL</td>
<td>PUT <code>http://localhost:8080/{Type}/_introduce_type</code></td>
</tr>
</tbody>
</table>

<p>Request Schema:</p>

<pre><code class="language-json">{
&quot;idProperty&quot;: { //required
&quot;propertyName&quot;: &quot;id&quot;,
&quot;autoGenerated&quot;: true, // optional
&quot;indexType&quot;: &quot;BASIC&quot; // optional, use with autoGenerate. SEE com.gigaspaces.metadata.index.SpaceIndexType
},
&quot;routingProperty&quot;: {
&quot;propertyName&quot;: &quot;id&quot;,
&quot;indexType&quot;: &quot;BASIC&quot; // optional. SEE com.gigaspaces.metadata.index.SpaceIndexType
},
&quot;fixedProperties&quot;: [
{
&quot;propertyName&quot;: &quot;id&quot;,
&quot;propertyType&quot;: &quot;int32&quot; // predefined types or full Java class path*
},
{
&quot;propertyName&quot;: &quot;prop1&quot;,
&quot;propertyType&quot;: &quot;string&quot;, // predefined types or full Java class path*
&quot;documentSupport&quot;: &quot;DEFAULT&quot; // optional. SEE com.gigaspaces.metadata.SpaceDocumentSupport
},
{
&quot;propertyName&quot;: &quot;prop2&quot;,
&quot;propertyType&quot;: &quot;java.util.Map&quot;, // predefined types or full Java class path*
&quot;documentSupport&quot;: &quot;DEFAULT&quot;, // optional. SEE com.gigaspaces.metadata.SpaceDocumentSupport
&quot;storageType&quot;: &quot;DEFAULT&quot; // optional, use with documentSupport. SEE com.gigaspaces.metadata.StorageType
},
{
&quot;propertyName&quot;: &quot;indexedProp&quot;,
&quot;propertyType&quot;: &quot;string&quot;, // predefined types or full Java class path*
&quot;indexType&quot;: &quot;BASIC&quot;, // optional. SEE com.gigaspaces.metadata.index.SpaceIndexType
&quot;uniqueIndex&quot;: true // optional, must be used with indexType field only. Default to false.
}
],
&quot;compoundIndex&quot;: {
&quot;paths&quot;: [
&quot;prop1&quot;,
&quot;prop2&quot;
],
&quot;unique&quot;: true // optional
},
&quot;fifoSupport&quot;: &quot;DEFAULT&quot;, // SEE com.gigaspaces.annotation.pojo.FifoSupport
&quot;blobStoreEnabled&quot;: true,
&quot;storageType&quot;: &quot;DEFAULT&quot;, // SEE com.gigaspaces.metadata.StorageType
&quot;supportsOptimisticLocking&quot;: true,
&quot;supportsDynamicProperties&quot;: false // optional, default to true
}
</code></pre>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;
}
</code></pre>

<p>Predefined types and their conversion:</p>

<table>
<thead>
<tr>
<th align="left">Type name</th>
<th align="left">Java class</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">int32</td>
<td align="left">java.lang.Integer</td>
</tr>

<tr>
<td align="left">int64</td>
<td align="left">java.lang.Long</td>
</tr>

<tr>
<td align="left">double</td>
<td align="left">java.lang.Double</td>
</tr>

<tr>
<td align="left">number</td>
<td align="left">java.lang.Double</td>
</tr>

<tr>
<td align="left">float</td>
<td align="left">java.lang.Float</td>
</tr>

<tr>
<td align="left">boolean</td>
<td align="left">java.lang.Boolean</td>
</tr>

<tr>
<td align="left">string</td>
<td align="left">java.lang.String</td>
</tr>

<tr>
<td align="left">datetime</td>
<td align="left">java.util.Date</td>
</tr>

<tr>
<td align="left">array</td>
<td align="left">java.util.List</td>
</tr>

<tr>
<td align="left">set</td>
<td align="left">java.util.Set</td>
</tr>

<tr>
<td align="left">sortedset</td>
<td align="left">java.util.SortedSet</td>
</tr>

<tr>
<td align="left">object</td>
<td align="left">com.gigaspaces.document.SpaceDocument</td>
</tr>
</tbody>
</table>

<p>Examples:</p>

<pre><code class="language-bash">curl -XPUT -H &quot;Content-Type: application/json&quot; -d '{&quot;idProperty&quot;:{&quot;propertyName&quot;:&quot;id&quot;,&quot;autoGenerated&quot;:false},&quot;routingProperty&quot;:{&quot;propertyName&quot;:&quot;id&quot;},&quot;fixedProperties&quot;:[{&quot;propertyName&quot;:&quot;id&quot;,&quot;propertyType&quot;:&quot;int64&quot;},{&quot;propertyName&quot;:&quot;name&quot;,&quot;propertyType&quot;:&quot;string&quot;},{&quot;propertyName&quot;:&quot;age&quot;,&quot;propertyType&quot;:&quot;java.lang.Integer&quot;}]}' http://localhost:8080/MyObject/_introduce_type
</code></pre>

<h1 id="write">Write</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Write single entry to the space.</td>
</tr>

<tr>
<td>Request URL</td>
<td>POST <code>http://localhost:8080/{Type}/</code></td>
</tr>

<tr>
<td>Request Headers</td>
<td>Content-Type: application/json</td>
</tr>

<tr>
<td>Request Body</td>
<td>JSON object representation of a SpaceDocument object.</td>
</tr>
</tbody>
</table>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;
}
</code></pre>

<p>Examples:</p>

<pre><code class="language-bash">curl -XPOST -H &quot;Content-Type: application/json&quot; -d '{&quot;id&quot;:1, &quot;name&quot;:&quot;myName&quot;, &quot;age&quot;:10}' http://localhost:8080/MyObject
</code></pre>

<h1 id="write-multiple">Write Multiple</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Write multiple entries to the space.</td>
</tr>

<tr>
<td>Request URL</td>
<td>POST <code>http://localhost:8080/{Type}/</code></td>
</tr>

<tr>
<td>Request Headers</td>
<td>Content-Type: application/json</td>
</tr>

<tr>
<td>Request Body</td>
<td>JSON array representation of a SpaceDocument objects.</td>
</tr>
</tbody>
</table>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;
}
</code></pre>

<p>Examples:</p>

<pre><code class="language-bash">curl -XPOST -H &quot;Content-Type: application/json&quot; -d '[{&quot;id&quot;:2, &quot;name&quot;:&quot;John&quot;, &quot;age&quot;:16},
{&quot;id&quot;:3, &quot;name&quot;:&quot;Michael&quot;, &quot;age&quot;:18}]' http://localhost:8080/MyObject
</code></pre>

<h1 id="count">Count</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Returns the number of entries in space of the specified type</td>
</tr>

<tr>
<td>Request URL</td>
<td>GET <code>http://localhost:8080/{Type}/count</code></td>
</tr>
</tbody>
</table>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;,
&quot;data&quot;:0
}
</code></pre>

<p>Examples:</p>

<pre><code class="language-bash">curl -XGET http://localhost:8080/{Type}/count
</code></pre>

<h1 id="read-multiple">Read Multiple</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Read multiple entries from space that matches the query.</td>
</tr>

<tr>
<td>Request URL</td>
<td>GET <code>http://localhost:8080/{Type}/</code></td>
</tr>

<tr>
<td>Request Query Parameters</td>
<td>query - a <a href="./query-sql.html">SQLQuery</a> that is a SQL-like syntax <br>max - the maximum amount of entries to read</td>
</tr>
</tbody>
</table>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;,
&quot;data&quot;:[
{
&quot;id&quot;:1,
&quot;name&quot;:&quot;First&quot;
},
{
&quot;id&quot;:2,
&quot;name&quot;:&quot;Second&quot;
}
]
}
</code></pre>

<p>Examples:</p>

<pre><code class="language-bash">curl -XGET http://localhost:8080/MyObject/?query=age='10'
curl -XGET http://localhost:8080/MyObject/?query=id=%271%27%20or%20id=%272%27%20or%20id=%273%27
</code></pre>

<p>*The url is encoded, the query is: id=&lsquo;1&rsquo; or id=&lsquo;2&rsquo; or id=&lsquo;3&rsquo;</p>

<h1 id="read-by-id">Read By Id</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Read entry from space with the provided id</td>
</tr>

<tr>
<td>Request URL</td>
<td>GET <code>http://localhost:8080/{Type}/{id}</code></td>
</tr>
</tbody>
</table>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;,
&quot;data&quot;:{
&quot;id&quot;:1,
&quot;name&quot;:&quot;First&quot;
}
}
</code></pre>

<p>Examples:</p>

<pre><code class="language-bash">curl -XGET http://localhost:8080/MyObject/1
curl -XGET http://localhost:8080/MyObject/2
curl -XGET http://localhost:8080/MyObject/3
</code></pre>

<h1 id="update-multiple">Update Multiple</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Update entries in space</td>
</tr>

<tr>
<td>Request URL</td>
<td>POST <code>http://localhost:8080/{Type}</code></td>
</tr>
</tbody>
</table>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;
}
</code></pre>

<p>Examples:</p>

<pre><code class="language-bash">curl -XPOST -H &quot;Content-Type: application/json&quot; -d '[{&quot;id&quot;:1,&quot;name&quot;:&quot;myName&quot;,&quot;age&quot;:11},{&quot;id&quot;:2,&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:17},{&quot;id&quot;:3,&quot;name&quot;:&quot;Michael&quot;,&quot;age&quot;:19}]' http://localhost:8080/MyObject

See that data2 field is updated:

curl http://localhost:8080/MyObject/?query=age=11

</code></pre>

<h1 id="take-multiple">Take Multiple</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Gets and deletes entries from space that matches the query.</td>
</tr>

<tr>
<td>Request URL</td>
<td>DELETE <code>http://localhost:8080/{Type}/</code></td>
</tr>

<tr>
<td>Request Query Parameters</td>
<td>query - a <a href="./query-sql.html">SQLQuery</a> that is a SQL-like syntax</td>
</tr>
</tbody>
</table>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;,
&quot;data&quot;:[
{
&quot;id&quot;:1,
&quot;name&quot;:&quot;First&quot;
},
{
&quot;id&quot;:2,
&quot;name&quot;:&quot;Second&quot;
}
]
}
</code></pre>

<p>Examples:</p>

<pre><code class="language-bash">curl -XDELETE http://localhost:8080/MyObject/?query=id=%271%27%20or%20id=%272%27

*The url is encoded, the query is: id=1 or id=2

See that only Item3 remains:

curl -XGET http://localhost:8080/MyObject/?query=id=%271%27%20or%20id=%272%27%20or%20id=%273%27
</code></pre>

<h1 id="take-by-id">Take By Id</h1>

<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>

<tbody>
<tr>
<td>Description</td>
<td>Gets and deletes the entry from space with the provided id</td>
</tr>

<tr>
<td>Request URL</td>
<td>DELETE <code>http://localhost:8080/{Type}/{id}</code></td>
</tr>
</tbody>
</table>

<p>Response Schema:</p>

<pre><code class="language-json">{
&quot;status&quot;:&quot;success&quot;,
&quot;data&quot;:{
&quot;id&quot;:1,
&quot;name&quot;:&quot;First&quot;
}
}
</code></pre>

<p>Examples:</p>

<pre><code class="language-bash">curl -XDELETE http://localhost:8080/MyObject/3

See that Item3 does not exists:

curl -XGET http://localhost:8080/MyObject/?query=id=%271%27%20or%20id=%272%27%20or%20id=%273%27
</code></pre>

</body>
<script src="../../js/prism.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script src="../../js/jquery-1.11.js"></script>
</html>