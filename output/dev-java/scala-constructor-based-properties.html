<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../../css/prism.css"/>
<link rel="stylesheet" href="../../css/bootstrap.css"/>
<link rel="stylesheet" href="../../css/docs.css"/>
<link rel="stylesheet" href="../../css/hugo-bootswatch.css"/>
<link rel="stylesheet" href="../../css/table.css"/>
<title></title>
</head>
<body>
<h1 >Constructor Based Properties</h1>
<hr>


<p>The <code>com.gigaspaces.annotation.pojo.SpaceClassConstructor</code> annotation on a constructor will cause the data class properties analysis to be based on properties found in the constructor (instead of getters/setters). This allows data class properties to be immutable.</p>

<h1 id="usage">Usage</h1>

<p>Following is an example of such data class.</p>

<pre><code class="language-scala">package org.openspaces.scala.example.data
import scala.beans.BeanProperty

/*
* This imports enhanced space annotations such as @SpaceId, @SpaceRouting, etc...
* with a @beanGetter annotation attached to them so annotations will be attached to the generated getter method.
*/
import org.openspaces.scala.core.aliases.annotation._

/**
* Data properties should be inferred from the constructor.
* This allows the pojo properties to remain immutable as demonstrated below.
*/
case class Data @SpaceClassConstructor() (

@BeanProperty
@SpaceId
@SpaceProperty(nullValue = &quot;-1&quot;)
id: Long = -1,

@BeanProperty
@SpaceRouting
@SpaceProperty(nullValue = &quot;-1&quot;)
routing: Long = -1,

@BeanProperty
data: String = null

)
</code></pre>

<h1 id="considerations">Considerations</h1>

<ul>
<li>Each property defined in the specified constructor must have a matching bean getter method. This method can be generated automatically by the compiler by using the <code>@BeanProperty</code> annotation. If custom behavior is required, the getter method can be written explicitly.</li>
<li>To extract the names from the constructor parameters, it is required that the classes will be compiled with debug information.</li>
<li>Space metadata annotations (such as <code>@SpaceId</code> should be placed on the getter method. If the getter method is generated by the compiler using <code>@BeanProperty</code>, the annotation aliases under <code>org.openspaces.scala.core.aliases.annotation</code> can be used which include the <code>@beanGetter</code> annotation.</li>
</ul>

</body>
<script src="../../js/prism.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script src="../../js/jquery-1.11.js"></script>
</html>